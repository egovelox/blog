<!doctype html>
<html lang ="en">
  <head>
    
    <meta charset='utf-8'>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta description="traditional post">
    <title>Ajax canevas</title>
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/modern-normalize/0.5.0/modern-normalize.min.css">
    <link rel="stylesheet" href="./styles/main.css">

    
  </head>
  <body>
  <nav>
        <div class="nav-brand">
            <svg id = "brand" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 245 245"><defs><style>.cls-1{font-size:41px;fill:#fff;font-family:AmericanTypewriter, American Typewriter;}.cls-2{letter-spacing:-0.03em;}</style></defs><title>egovelox</title><g id="Calque_2" data-name="Calque 2"><g id="Calque_1-2" data-name="Calque 1"><rect width="245" height="245"/><text class="cls-1" transform="translate(57.7 130)">EGO<tspan x="0" y="49.2">VEL</tspan><tspan class="cls-2" x="83.56" y="49.2">O</tspan><tspan x="109.02" y="49.2">X</tspan></text></g></g></svg>
        </div>
        <ul id="navbar">
          <li class="nav-item">
            <a href="./index.html">&#9783; Articles</a>
          </li>
          <li class="nav-item">
            <a href="./about.html">About</a>
          </li>
          <li class="nav-item">
            <a href="./index.html">Nugae</a>
          </li>
        </ul>
    </nav>
    
  <article>
    <header>
      <h1>Ajax canevas</h1>
    </header>
    <div class="markdown-body">
      <p>Here is the classic AJAX process: </p>
<pre><code class="hljs language-javascript"> 
    <span class="hljs-keyword">var</span> req = <span class="hljs-keyword">new</span> XMLHttpRequest();
    
    <span class="hljs-comment">// onreadystatechange() will be invoked </span>
    <span class="hljs-comment">// each time the event 'readystate has changed' occurs</span>
    <span class="hljs-comment">// i.e 4 times in most cases.</span>
    req.onreadystatechange = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)
    </span>{
        <span class="hljs-comment">// N.B this is the 'req' object</span>
        <span class="hljs-comment">// readyState 0: request not initialized</span>
        <span class="hljs-comment">// readyState 1: server connection established</span>
        <span class="hljs-comment">// readyState 2: request received </span>
        <span class="hljs-comment">// readyState 3: processing request </span>
        <span class="hljs-comment">// readyState 4: request finished and response is ready</span>

        <span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.readyState == <span class="hljs-number">4</span> &#x26;&#x26; <span class="hljs-keyword">this</span>.status == <span class="hljs-number">200</span>)
        {
            <span class="hljs-comment">// Get Server Response Headers </span>
            <span class="hljs-comment">// req.getAllResponseHeaders() returns all</span>
            <span class="hljs-comment">// req.getResponseHeader() returns only specific ones</span>
            <span class="hljs-keyword">var</span> header = <span class="hljs-keyword">this</span>.getResponseHeader();


            <span class="hljs-comment">// Get Server Response Data</span>
            <span class="hljs-comment">// req.responseText is STRING</span>
            <span class="hljs-comment">// req.responseXML is XML</span>
            <span class="hljs-keyword">var</span> response = <span class="hljs-keyword">this</span>.responseText;

            <span class="hljs-comment">// ... do whatever you want</span>
        }
    }

    <span class="hljs-comment">// choose GET or POST</span>
    <span class="hljs-comment">// choose true for asynchronous request &#x26; response</span>
    <span class="hljs-comment">// (i.e in JS: non-blocking)</span>
    req.open(<span class="hljs-string">'GET'</span>, <span class="hljs-string">"note.txt"</span>, <span class="hljs-literal">true</span>);

    <span class="hljs-comment">// Optional: if I need to configure headers</span>
    req.setRequestHeader(<span class="hljs-string">"Content-type"</span>, <span class="hljs-string">"application/x-www-form-urlencoded"</span>);

    <span class="hljs-comment">// for POST, pass your data here: </span>
    req.send();
}</code></pre>

    </div>
  </article>

  <script src="//cdnjs.cloudfare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script>
  <script>
    window
      .hljs
      .initHighlightingOnLoad();
  </script>

    <footer id="footer">&#128736;<span id="footerSignature">egovelox</span> Jan 2020 with &#128420;</footer>
  </body>
</html>